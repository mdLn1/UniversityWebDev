{"version":3,"file":"static/webpack/static/development/pages/login.js.322454904609930f4974.hot-update.js","sources":["webpack:///./pages/login.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment,\n  Container\n} from \"semantic-ui-react\";\nimport { Cookies } from \"react-cookie\";\nimport axios from \"axios\";\nimport { Router } from \"../routes\";\nimport Layout from \"../components/Layout\";\n\nconst cookies = new Cookies();\n\nclass LoginForm extends Component {\n  state = {\n    email: \"\",\n    password: \"\"\n  };\n\n  handleEmailChange = event => {\n    this.setState({ email: event.target.value });\n  };\n\n  handlePasswordChange = event => {\n    this.setState({ password: event.target.value });\n  };\n\n  loginHandler = async () => {\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      const obj = { email: this.state.email, password: this.state.password };\n      const res = await axios.post(\n        \"http://localhost:5000/api/auth/login/\",\n        obj,\n        config\n      );\n      cookies.set(\"token\", res.data.token);\n      console.log(\"token:\" + res.data.token);\n      Router.pushRoute(\"/\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  render() {\n    return (\n      <Layout>\n        <Grid\n          textAlign=\"center\"\n          style={{ height: \"100vh\" }}\n          verticalAlign=\"top\"\n        >\n          <Grid.Column style={{ maxWidth: 450 }}>\n            <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n              Log-in to your account\n            </Header>\n            <Form size=\"large\" onSubmit={this.loginHandler}>\n              <Segment stacked>\n                <Form.Input\n                  required\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"E-mail address\"\n                  type=\"email\"\n                  onChange={this.handleEmailChange}\n                  value={this.state.email}\n                />\n                <Form.Input\n                  required\n                  fluid\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                  onChange={this.handlePasswordChange}\n                  value={this.state.password}\n                />\n\n                <Button color=\"teal\" fluid size=\"large\">\n                  Login\n                </Button>\n              </Segment>\n            </Form>\n            <Message>\n              New to us? <a href=\"/signup\">Sign Up</a>\n            </Message>\n          </Grid.Column>\n        </Grid>\n      </Layout>\n    );\n  }\n}\n\nexport default LoginForm;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AASA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AADA;AAKA;AAAA;AAAA;AAAA;AAPA;AAAA;AACA;AADA;AAQA;AAKA;AACA;AACA;AAfA;AAAA;AACA;AADA;AAAA;AAAA;AAiBA;AACA;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAoBA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AAHA;AAKA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAWA;AAAA;AAAA;AAAA;AAMA;AAAA;AAMA;;;;AAlFA;AACA;AAoFA;;;;A","sourceRoot":""}